<?xml version="1.0" encoding="UTF-8" ?> 
<XMLDB PATH="enrol/database/db" VERSION="20100722" COMMENT="XMLDB file for Moodle enrol/database/role_mapping" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../lib/xmldb/xmldb.xsd">

 <TABLES>
  <TABLE NAME="ucla_rolemapping" COMMENT="Table to map pseudorole from registrar to moodle roles" >
   <FIELDS>
    <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="true" NEXT="pseudo_role" /> 
    <FIELD NAME="pseudo_role" TYPE="char" LENGTH="50" NOTNULL="true" SEQUENCE="false" PREVIOUS="id" NEXT="description" /> 
    <FIELD NAME="description" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" COMMENT="describes the rule that translates to a moodle role" PREVIOUS="pseudo_role" NEXT="moodle_roleid" /> 
    <FIELD NAME="moodle_roleid" TYPE="int" LENGTH="2" NOTNULL="true" UNSIGNED="true" SEQUENCE="false" COMMENT="Id for the role whose shortname is in mdl_role table" PREVIOUS="descripton" NEXT="subject_area" /> 
    <FIELD NAME="subject_area" TYPE="char" LENGTH="50" NOTNULL="true"  DEFAULT="*SYSTEM*" SEQUENCE="false" PREVIOUS="moodle_roleid" /> 
   </FIELDS>
   <KEYS>
    <KEY NAME="primary" TYPE="primary" FIELDS="id" /> 
   </KEYS>
  </TABLE>
 </TABLES>

 <STATEMENTS>
    <STATEMENT NAME="insert ucla_rolemapping" TYPE="insert" TABLE="ucla_rolemapping" COMMENT="Initial insert of default records of pseudo_roles and its mapping to moodle_roles" >
     <SENTENCES>
        <SENTENCE TEXT="(pseudo_role, description, moodle_roleid, subject_area) VALUES ('ta', '02 whenever there is also an 01',3,'*SYSTEM*')" />
        <SENTENCE TEXT="(pseudo_role, description, moodle_roleid, subject_area) VALUES ('ta', '02 whenever there is also an 01', 4,'CHEM')" />
        <SENTENCE TEXT="(pseudo_role, description, moodle_roleid, subject_area) VALUES ('instructor', 'Always an 01', 3, '*SYSTEM*')" />
        <SENTENCE TEXT="(pseudo_role, description, moodle_roleid, subject_area) VALUES ('waitlisted', 'Student trying to add course', 5, '*SYSTEM*')" />
        <SENTENCE TEXT="(pseudo_role, description, moodle_roleid, subject_area) VALUES ('enrolled', 'Student enrolled in the course', 5, '*SYSTEM*')" />
      </SENTENCES>
    </STATEMENT>
  </STATEMENTS>
  
 </XMLDB>